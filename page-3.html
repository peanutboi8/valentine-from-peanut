<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Step 3</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="content">
        <!-- Dynamic Header -->
        <h1 id="dynamic-text"></h1>

        <!-- Image Container -->
        <div class="image-container">
            <img id="response-image" src="oppa_phil.jpeg" alt="A picture of me">
        </div>

        <!-- Buttons -->
        <div class="buttons">
            <button id="left-button" onclick="redirectToFinalPage('I LOVE YOU OPPA PHIL')"></button>
            <button id="right-button" onclick="redirectToFinalPage('ok what's next')"></button>
        </div>
    </div>

    <script>
        // Get stored response from localStorage
        let response = localStorage.getItem("secondResponse");

        // Debugging: Log retrieved value
        console.log("Retrieved secondResponse:", `"${response}"`);

        // Trim whitespace (in case of accidental spaces)
        if (response) {
            response = response.trim();
        }

        // Get button elements
        const leftButton = document.getElementById("left-button");
        const rightButton = document.getElementById("right-button");

        // Change text based on the previous response
        if (response === "....sure I guess" || response === "YAAAAAAAS") {
            document.getElementById("dynamic-text").innerText = "AMAZEBALLS";
            leftButton.innerText = "I LOVE YOU OPPA PHIL";
            rightButton.innerText = "ok what's next";
        } else {
            document.getElementById("dynamic-text").innerText = "ðŸ˜ˆðŸ˜ˆðŸ˜ˆ WELL TOO BAD YOU'RE STUCK WITH ME ðŸ˜ˆðŸ˜ˆðŸ˜ˆ";
            leftButton.innerText = "ok whatever what's next";
            rightButton.style.display = "none"; // Hide second button if not needed
        }

        function redirectToFinalPage(choice) {
            console.log("Storing thirdResponse:", choice);
            localStorage.setItem("thirdResponse", choice);
            window.location.href = "final-page.html"; // Change this if needed
        }
    </script>

</body>
</html>
